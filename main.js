(()=>{"use strict";const e=2.2369362921,t=t=>{(t=>{const n=document.createElement("div");n.classList.add("current-layout");const d=document.createElement("div");d.classList.add("placename"),d.textContent=t.name;const a=document.createElement("div");a.classList.add("state"),a.textContent=t.state;const c=document.createElement("div");c.classList.add("weather"),c.append((e=>{const t=document.createElement("div");t.classList.add("big-holder");const n=Math.round(e-273.15);return t.textContent=`${n}℃`,t})(t.current.temp),((t,n)=>{const d=document.createElement("div");d.classList.add("big-holder");const a=Math.round(t*e);d.textContent=a;const c=document.createElement("div"),r=document.createElement("img");return r.src="../src/icons/windarrow.svg",r.style.setProperty("transform",`rotate(${n}deg)`),c.classList.add("wind-arrow"),c.appendChild(r),d.appendChild(c),d})(t.current.wind_speed,t.current.wind_deg),(e=>{const t=document.createElement("div");t.classList.add("big-holder");const n=document.createElement("img");return n.src=`../src/icons/${e.icon}.svg`,t.appendChild(n),t})(t.current.weather[0])),n.append(d,a,c),document.querySelector(".current-outer").replaceChildren(n)})(t),(t=>{const n=document.querySelector(".hourly-outer");n.replaceChildren(),n.textContent="Next 24 hours";const d=document.createElement("div");d.classList.add("hourly-inner");for(let n=1;n<25;n++){const a=t[n],c=document.createElement("div");c.classList.add("small-holder");const r=document.createElement("div"),o=new Date(1e3*a.dt).getHours();r.textContent=`${o}:00`;const s=document.createElement("img");s.src=`../src/icons/${a.weather[0].icon}.svg`;const l=document.createElement("div"),i=Math.round(a.temp-273.15);l.textContent=`${i}℃`;const m=document.createElement("div");m.classList.add("wind-holder");const u=Math.round(a.wind_speed*e);m.textContent=u;const p=document.createElement("div"),h=document.createElement("img");h.src="../src/icons/windarrow.svg",h.classList.add("small-arrow"),h.style.setProperty("transform",`rotate(${a.wind_deg}deg)`),p.classList.add("wind-arrow"),p.appendChild(h),m.appendChild(p),c.append(r,s,l,m),d.append(c)}n.appendChild(d)})(t.hourly),(t=>{console.log(t);const n=document.querySelector(".daily-outer");n.replaceChildren(),n.textContent="Next 7 days";const d=document.createElement("div");d.classList.add("daily-inner");for(let n=1;n<8;n++){const a=t[n],c=document.createElement("div");c.classList.add("small-holder");const r=document.createElement("div"),o=new Date(1e3*a.dt),s=new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(o);r.textContent=s;const l=document.createElement("img");l.src=`../src/icons/${a.weather[0].icon}.svg`;const i=document.createElement("div"),m=Math.round(a.temp.max-273.15);i.textContent=`${m}℃`;const u=document.createElement("div");u.classList.add("wind-holder");const p=Math.round(a.wind_speed*e);u.textContent=p;const h=document.createElement("div"),w=document.createElement("img");w.src="../src/icons/windarrow.svg",w.classList.add("small-arrow"),w.style.setProperty("transform",`rotate(${a.wind_deg}deg)`),h.classList.add("wind-arrow"),h.appendChild(w),u.appendChild(h),c.append(r,l,i,u),d.append(c)}n.appendChild(d)})(t.daily)},n="0ec437db8343a627d6380c3290f18de6",d=async e=>{const d=await(async e=>{const t=await fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=1&appid=${n}`);return await t.json()})(e).then((e=>e[0])),a=(({name:e,state:t},{current:n,hourly:d,daily:a})=>({name:e,state:t,current:n,hourly:d,daily:a}))(d,await(async({lat:e,lon:t})=>{const d=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${e}&lon=${t}&exclude=minutely&appid=${n}`);return await d.json()})(d));t(a)};d("Skegness"),document.getElementById("search-button").addEventListener("click",(()=>{d(document.getElementById("search-input").value)}))})();